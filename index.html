<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"="width=device-width, initial-scale=1.0">
    <title>üçå Banana Clicker - v2.0.0</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #ffd700;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 10px;
        }

        .header {
            text-align: center;
            padding: 15px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            margin-bottom: 15px;
            border: 2px solid #ffd700;
            animation: glow 2s ease-in-out infinite;
            position: relative;
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(255, 215, 0, 0.3); }
            50% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.6); }
        }

        .version {
            font-size: 12px;
            opacity: 0.7;
            margin-top: 5px;
        }

        .anti-cheat {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #4CAF50;
            color: white;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 10px;
        }

        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .stat-box {
            background: rgba(255, 215, 0, 0.1);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #ffd700;
            text-align: center;
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #ffd700;
        }

        .banana-container {
            text-align: center;
            padding: 30px;
            margin-bottom: 20px;
            position: relative;
        }

        .banana-wrapper {
            display: inline-block;
            position: relative;
        }

        .banana {
            font-size: 150px;
            cursor: pointer;
            display: inline-block;
            transition: transform 0.1s;
            user-select: none;
            filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.5));
            animation: float 3s ease-in-out infinite;
        }

        .accessory {
            position: absolute;
            font-size: 60px;
            pointer-events: none;
        }

        .acc-hat { top: -30px; left: 50%; transform: translateX(-50%); }
        .acc-glasses { top: 50px; left: 50%; transform: translateX(-50%); }
        .acc-bowtie { top: 120px; left: 50%; transform: translateX(-50%); }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .banana:active {
            transform: scale(0.9) !important;
        }

        .banana.clicked {
            animation: bounce 0.3s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2) rotate(10deg); }
        }

        .click-particle {
            position: fixed;
            font-size: 24px;
            font-weight: bold;
            color: #ffd700;
            pointer-events: none;
            animation: particle-rise 1s ease-out forwards;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
            z-index: 1000;
        }

        @keyframes particle-rise {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-100px); }
        }

        .golden-banana {
            position: fixed;
            font-size: 80px;
            cursor: pointer;
            animation: goldenFloat 2s ease-in-out infinite;
            z-index: 500;
            filter: drop-shadow(0 0 20px rgba(255, 215, 0, 1));
        }

        @keyframes goldenFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            padding: 12px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #ffd700;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            font-weight: bold;
            transition: all 0.3s;
            min-width: 70px;
            font-size: 11px;
        }

        .tab:hover {
            background: rgba(255, 215, 0, 0.2);
            transform: translateY(-2px);
        }

        .tab.active {
            background: #ffd700;
            color: #1a1a2e;
        }

        .content {
            display: none;
            animation: fadeIn 0.3s;
        }

        .content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .upgrade-list, .skin-list, .leaderboard, .achievements-list, .accessory-list {
            display: grid;
            gap: 10px;
            max-height: 400px;
            overflow-y: auto;
        }

        .upgrade-item, .skin-item, .achievement-item, .accessory-item {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .upgrade-item.ultra {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.2), rgba(75, 0, 130, 0.2));
            border-color: #9b59b6;
        }

        .upgrade-item:hover, .skin-item:hover, .accessory-item:hover {
            background: rgba(255, 215, 0, 0.2);
            transform: translateX(5px);
        }

        .upgrade-info, .skin-info, .achievement-info, .accessory-info {
            flex: 1;
        }

        .upgrade-name, .skin-name, .achievement-name, .accessory-name {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
        }

        .ultra-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 10px;
            margin-left: 5px;
        }

        .upgrade-desc, .skin-desc, .achievement-desc, .accessory-desc {
            font-size: 12px;
            opacity: 0.8;
        }

        .buy-btn, .equip-btn {
            padding: 10px 20px;
            background: #ffd700;
            color: #1a1a2e;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .buy-btn:hover, .equip-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
        }

        .buy-btn:disabled, .equip-btn:disabled {
            background: #666;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .buy-btn:disabled:hover, .equip-btn:disabled:hover {
            transform: none;
            box-shadow: none;
        }

        .equipped {
            background: #4CAF50 !important;
            color: white !important;
        }

        .leaderboard-item {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .rank {
            font-size: 24px;
            font-weight: bold;
            width: 40px;
        }

        .rank-1 { color: #FFD700; }
        .rank-2 { color: #C0C0C0; }
        .rank-3 { color: #CD7F32; }

        .player-info {
            flex: 1;
            margin-left: 15px;
        }

        .player-name {
            font-weight: bold;
            font-size: 16px;
        }

        .player-level {
            font-size: 12px;
            opacity: 0.8;
        }

        .lootbox-container {
            text-align: center;
            padding: 20px;
        }

        .lootbox {
            font-size: 100px;
            cursor: pointer;
            display: inline-block;
            transition: all 0.3s;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .lootbox:hover {
            transform: scale(1.2) rotate(10deg);
        }

        .lootbox.opening {
            animation: spin 1s ease-in-out;
        }

        @keyframes spin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.5); }
            100% { transform: rotate(360deg) scale(1); }
        }

        .achievement-item.unlocked {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .achievement-item.locked {
            opacity: 0.5;
        }

        .progress-bar {
            background: rgba(255, 215, 0, 0.2);
            height: 20px;
            border-radius: 10px;
            margin-top: 10px;
            overflow: hidden;
            border: 2px solid #ffd700;
            margin-bottom: 15px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #ffd700, #ffed4e);
            height: 100%;
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #1a1a2e;
            font-weight: bold;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ffd700;
            color: #1a1a2e;
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: bold;
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
            animation: slideIn 0.5s, slideOut 0.5s 2.5s;
            z-index: 2000;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); }
            to { transform: translateX(0); }
        }

        @keyframes slideOut {
            from { transform: translateX(0); }
            to { transform: translateX(400px); }
        }

        .level-up {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 48px;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 0 0 30px rgba(255, 215, 0, 1);
            animation: levelUpAnim 2s ease-out forwards;
            z-index: 3000;
            pointer-events: none;
        }

        @keyframes levelUpAnim {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.5); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(1); }
        }

        .reset-btn {
            width: 100%;
            padding: 15px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .reset-btn:hover {
            background: #c0392b;
            transform: scale(1.05);
        }

        @media (max-width: 600px) {
            .banana {
                font-size: 120px;
            }
            
            .stat-value {
                font-size: 20px;
            }
            
            .tab {
                font-size: 10px;
                padding: 10px 5px;
            }

            .accessory {
                font-size: 45px;
            }
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: #ffd700;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üçå BANANA CLICKER</h1>
            <div class="version">v2.0.0</div>
            <div class="anti-cheat">üõ°Ô∏è PROTEGIDO</div>
        </div>

        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">Bananas</div>
                <div class="stat-value" id="bananas">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Por Click</div>
                <div class="stat-value" id="perClick">1</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">N√≠vel</div>
                <div class="stat-value" id="level">1</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Por Segundo</div>
                <div class="stat-value" id="perSecond">0</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="levelProgress" style="width: 0%">0%</div>
        </div>

        <div class="banana-container">
            <div class="banana-wrapper">
                <div class="banana" id="banana">üçå</div>
                <div id="accessoryContainer"></div>
            </div>
        </div>

        <div class="tabs">
            <div class="tab active" data-tab="upgrades">üõí Loja</div>
            <div class="tab" data-tab="skins">üëï Skins</div>
            <div class="tab" data-tab="accessories">üé© Acess√≥rios</div>
            <div class="tab" data-tab="lootbox">üéÅ Lootbox</div>
            <div class="tab" data-tab="achievements">üèÜ Conquistas</div>
            <div class="tab" data-tab="leaderboard">üìä Ranking</div>
        </div>

        <div class="content active" id="upgrades">
            <div class="upgrade-list" id="upgradeList"></div>
        </div>

        <div class="content" id="skins">
            <div class="skin-list" id="skinList"></div>
        </div>

        <div class="content" id="accessories">
            <div class="accessory-list" id="accessoryList"></div>
        </div>

        <div class="content" id="lootbox">
            <div class="lootbox-container">
                <h2>Lootbox Dispon√≠vel no N√≠vel 10!</h2>
                <div class="lootbox" id="lootboxBtn">üì¶</div>
                <p id="lootboxStatus">Alcance o n√≠vel 10 para abrir!</p>
            </div>
        </div>

        <div class="content" id="achievements">
            <div class="achievements-list" id="achievementsList"></div>
        </div>

        <div class="content" id="leaderboard">
            <div class="leaderboard" id="leaderboardList"></div>
        </div>

        <button class="reset-btn" onclick="resetGame()">üîÑ Resetar Jogo</button>
    </div>

    <script>
        // Anti-Cheat
        let lastClickTime = 0;
        let suspiciousClicks = 0;

        function checkAntiCheat() {
            const now = Date.now();
            if (now - lastClickTime < 30) {
                suspiciousClicks++;
                if (suspiciousClicks > 15) {
                    showNotification('‚ö†Ô∏è Cliques muito r√°pidos detectados!');
                    suspiciousClicks = 0;
                    return false;
                }
            } else {
                suspiciousClicks = 0;
            }
            lastClickTime = now;
            return true;
        }

        // Database
        class GameDatabase {
            constructor() {
                this.dbName = 'BananaClickerDB';
            }

            saveGame(gameState) {
                localStorage.setItem(this.dbName, JSON.stringify(gameState));
            }

            loadGame() {
                const saved = localStorage.getItem(this.dbName);
                return saved ? JSON.parse(saved) : null;
            }

            resetGame() {
                localStorage.removeItem(this.dbName);
            }
        }

        const db = new GameDatabase();

        // Estado do Jogo
        let gameState = {
            bananas: 0,
            totalClicks: 0,
            clickPower: 1,
            passiveIncome: 0,
            level: 1,
            experience: 0,
            currentSkin: 'üçå',
            lootboxesOpened: 0,
            upgrades: {},
            skins: { 'üçå': true },
            accessories: {},
            achievements: {},
            goldenBananasClicked: 0,
            startTime: Date.now()
        };

        // Carregar jogo salvo
        const savedGame = db.loadGame();
        if (savedGame) {
            gameState = { ...gameState, ...savedGame };
        }

        // Upgrades (COM ULTRA OPS)
        const upgrades = [
            { id: 'cursor', name: 'üñ±Ô∏è Cursor Melhorado', desc: '+1 por click', cost: 10, power: 1 },
            { id: 'grandma', name: 'üëµ Vov√≥ Bananeira', desc: '+1/s', cost: 100, passive: 1 },
            { id: 'farm', name: 'üå¥ Fazenda de Banana', desc: '+5/s', cost: 500, passive: 5 },
            { id: 'factory', name: 'üè≠ F√°brica de Banana', desc: '+20/s', cost: 2000, passive: 20 },
            { id: 'mine', name: '‚õèÔ∏è Mina de Banana', desc: '+50/s', cost: 10000, passive: 50 },
            { id: 'portal', name: 'üåÄ Portal Dimensional', desc: '+200/s', cost: 50000, passive: 200 },
            { id: 'spaceship', name: 'üöÄ Nave Espacial', desc: '+1000/s', cost: 500000, passive: 1000 },
            { id: 'timemachine', name: '‚è∞ M√°quina do Tempo', desc: '+5000/s', cost: 5000000, passive: 5000 },
            { id: 'blackhole', name: 'üåë Buraco Negro', desc: '+50000/s', cost: 100000000, passive: 50000, ultra: true },
            { id: 'universe', name: 'üåå Universo Paralelo', desc: '+500000/s', cost: 1000000000, passive: 500000, ultra: true },
            { id: 'multiverse', name: 'üéÜ Multiverso', desc: '+5M/s', cost: 10000000000, passive: 5000000, ultra: true },
            { id: 'infinity', name: '‚ôæÔ∏è Poder Infinito', desc: '+50M/s', cost: 1000000000000, passive: 50000000, ultra: true }
        ];

        // Skins (MAIS ADICIONADAS)
        const skins = [
            { id: 'üçå', name: 'Banana Cl√°ssica', desc: 'A banana original', cost: 0 },
            { id: 'üçè', name: 'Banana Verde', desc: 'Ainda n√£o amadureceu', cost: 500 },
            { id: '‚ùÑÔ∏è', name: 'Banana de Neve', desc: 'Congelada e refrescante', cost: 5000 },
            { id: 'üåü', name: 'Banana Celestial', desc: 'Brilha como as estrelas', cost: 50000 },
            { id: 'üî•', name: 'Banana Flamejante', desc: 'Quente que nem pimenta', cost: 100000 },
            { id: 'üíé', name: 'Banana de Diamante', desc: 'Rara e valiosa', cost: 500000 },
            { id: 'üåà', name: 'Banana Arco-√çris', desc: 'Cores m√°gicas', cost: 1000000 },
            { id: 'üëë', name: 'Banana Real', desc: 'A realeza das bananas', cost: 10000000 },
            { id: 'üéÉ', name: 'Banana Halloween', desc: 'Assustadora', cost: 25000000 },
            { id: 'ü¶Ñ', name: 'Banana Unic√≥rnio', desc: 'Mitol√≥gica', cost: 50000000 },
            { id: 'üëΩ', name: 'Banana Alien', desc: 'De outro planeta', cost: 100000000 },
            { id: 'ü§ñ', name: 'Banana Rob√¥', desc: 'Do futuro', cost: 250000000 },
            { id: 'üßô', name: 'Banana M√°gica', desc: 'Poderes m√≠sticos', cost: 500000000 }
        ];

        // ACESS√ìRIOS (NOVO!)
        const accessories = [
            { id: 'tophat', name: 'üé© Cartola', desc: 'Muito elegante', cost: 10000, emoji: 'üé©', type: 'hat' },
            { id: 'crown', name: 'üëë Coroa de Ouro', desc: 'Para a realeza', cost: 100000, emoji: 'üëë', type: 'hat' },
            { id: 'sunglasses', name: 'üï∂Ô∏è √ìculos de Sol', desc: 'Super estiloso', cost: 50000, emoji: 'üï∂Ô∏è', type: 'glasses' },
            { id: 'glasses', name: 'üëì √ìculos Nerd', desc: 'Inteligente', cost: 25000, emoji: 'üëì', type: 'glasses' },
            { id: 'bowtie', name: 'üéÄ Gravata', desc: 'Chique demais', cost: 75000, emoji: 'üéÄ', type: 'bowtie' },
            { id: 'wizard', name: 'üßô Chap√©u de Mago', desc: 'M√°gico', cost: 500000, emoji: 'üßô‚Äç‚ôÇÔ∏è', type: 'hat' },
            { id: 'party', name: 'üéâ Chap√©u de Festa', desc: 'Hora da festa', cost: 1000000, emoji: 'üéâ', type: 'hat' },
            { id: 'halo', name: 'üòá Aur√©ola', desc: 'Divino', cost: 2000000, emoji: 'üòá', type: 'hat' }
        ];

        // Conquistas (MAIS ADICIONADAS)
        const achievements = [
            { id: 'first_click', name: 'Primeiro Click', desc: 'Clique pela primeira vez', requirement: () => gameState.totalClicks >= 1 },
            { id: 'hundred_clicks', name: 'Clickador Iniciante', desc: '100 clicks', requirement: () => gameState.totalClicks >= 100 },
            { id: 'thousand_clicks', name: 'Clickador Expert', desc: '1000 clicks', requirement: () => gameState.totalClicks >= 1000 },
            { id: 'ten_thousand', name: 'Clickador Mestre', desc: '10000 clicks', requirement: () => gameState.totalClicks >= 10000 },
            { id: 'hundred_thousand', name: 'Clickador Lend√°rio', desc: '100000 clicks', requirement: () => gameState.totalClicks >= 100000 },
            { id: 'first_upgrade', name: 'Primeira Compra', desc: 'Compre um upgrade', requirement: () => Object.values(gameState.upgrades).some(u => u > 0) },
            { id: 'ten_upgrades', name: 'Comprador', desc: '10 upgrades totais', requirement: () => Object.values(gameState.upgrades).reduce((a,b) => a+b, 0) >= 10 },
            { id: 'level_5', name: 'N√≠vel 5', desc: 'Alcance o n√≠vel 5', requirement: () => gameState.level >= 5 },
            { id: 'level_10', name: 'N√≠vel 10', desc: 'Alcance o n√≠vel 10', requirement: () => gameState.level >= 10 },
            { id: 'level_25', name: 'N√≠vel 25', desc: 'Alcance o n√≠vel 25', requirement: () => gameState.level >= 25 },
            { id: 'level_50', name: 'N√≠vel 50', desc: 'Alcance o n√≠vel 50', requirement: () => gameState.level >= 50 },
            { id: 'level_100', name: 'N√≠vel 100', desc: 'Alcance o n√≠vel 100', requirement: () => gameState.level >= 100 },
            { id: 'millionaire', name: 'Milion√°rio', desc: '1 milh√£o de bananas', requirement: () => gameState.bananas >= 1000000 },
            { id: 'billionaire', name: 'Bilion√°rio', desc: '1 bilh√£o de bananas', requirement: () => gameState.bananas >= 1000000000 },
            { id: 'trillionaire', name: 'Trilion√°rio', desc: '1 trilh√£o de bananas', requirement: () => gameState.bananas >= 1000000000000 },
            { id: 'collector', name: 'Colecionador', desc: 'Todas as skins', requirement: () => Object.keys(gameState.skins).length >= skins.length },
            { id: 'fashionista', name: 'Fashionista', desc: 'Todos os acess√≥rios', requirement: () => Object.keys(gameState.accessories).length >= accessories.length },
            { id: 'lootbox_master', name: 'Mestre Lootbox', desc: '10 lootboxes', requirement: () => gameState.lootboxesOpened >= 10 },
            { id: 'lootbox_legend', name: 'Lenda Lootbox', desc: '50 lootboxes', requirement: () => gameState.lootboxesOpened >= 50 },
            { id: 'golden_hunter', name: 'Ca√ßador Dourado', desc: '10 bananas douradas', requirement: () => gameState.goldenBananasClicked >= 10 },
            { id: 'golden_master', name: 'Mestre Dourado', desc: '50 bananas douradas', requirement: () => gameState.goldenBananasClicked >= 50 },
            { id: 'ultra_buyer', name: 'Comprador ULTRA', desc: 'Compre um upgrade ULTRA', requirement: () => upgrades.filter(u => u.ultra).some(u => gameState.upgrades[u.id] > 0) }
        ];

        // Sistema de Som
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        function playClickSound() {
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            osc.frequency.value = 800;
            osc.type = 'sine';
            
            gain.gain.setValueAtTime(0.3, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            osc.start(audioContext.currentTime);
            osc.stop(audioContext.currentTime + 0.1);
        }

        function playSuccessSound() {
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            osc.frequency.value = 523.25;
            osc.type = 'square';
            
            gain.gain.setValueAtTime(0.2, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            
            osc.start(audioContext.currentTime);
            osc.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1);
            osc.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2);
            osc.stop(audioContext.currentTime + 0.3);
        }

        function playPurchaseSound() {
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            osc.frequency.value = 440;
            osc.type = 'triangle';
            
            gain.gain.setValueAtTime(0.25, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.4);
            
            osc.start(audioContext.currentTime);
            osc.frequency.setValueAtTime(554.37, audioContext.currentTime + 0.1);
            osc.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.2);
            osc.frequency.setValueAtTime(880, audioContext.currentTime + 0.3);
            osc.stop(audioContext.currentTime + 0.4);
        }

        function playLevelUpSound() {
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(261.63, audioContext.currentTime);
            osc.frequency.exponentialRampToValueAtTime(523.25, audioContext.currentTime + 0.5);
            
            gain.gain.setValueAtTime(0.3, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            
            osc.start(audioContext.currentTime);
            osc.stop(audioContext.currentTime + 0.5);
        }

        function playGoldenSound() {
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            osc.type = 'sine';
            osc.frequency.value = 1000;
            
            gain.gain.setValueAtTime(0.3, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.4);
            
            osc.start(audioContext.currentTime);
            osc.stop(audioContext.currentTime + 0.4);
        }

        // Click na Banana
        const bananaEl = document.getElementById('banana');
        bananaEl.addEventListener('click', (e) => {
            if (!checkAntiCheat()) return;

            gameState.bananas += gameState.clickPower;
            gameState.totalClicks++;
            gameState.experience += gameState.clickPower;
            
            playClickSound();
            
            bananaEl.classList.add('clicked');
            setTimeout(() => bananaEl.classList.remove('clicked'), 300);
            
            createParticle(e.clientX, e.clientY, `+${gameState.clickPower}`);
            
            checkLevelUp();
            checkAchievements();
            updateUI();
            saveGame();
        });

        // Part√≠cula
        function createParticle(x, y, text) {
            const particle = document.createElement('div');
            particle.className = 'click-particle';
            particle.textContent = text;
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            document.body.appendChild(particle);
            
            setTimeout(() => particle.remove(), 1000);
        }

        // Banana Dourada (NOVO!)
        function spawnGoldenBanana() {
            if (document.querySelector('.golden-banana')) return;
            
            const golden = document.createElement('div');
            golden.className = 'golden-banana';
            golden.textContent = '‚ú®üçå';
            golden.style.left = Math.random() * (window.innerWidth - 100) + 'px';
            golden.style.top = Math.random() * (window.innerHeight - 200) + 100 + 'px';
            
            golden.addEventListener('click', () => {
                const bonus = Math.floor(gameState.bananas * 0.1) + 1000;
                gameState.bananas += bonus;
                gameState.goldenBananasClicked++;
                playGoldenSound();
                showNotification(`‚ú® Banana Dourada! +${formatNumber(bonus)} üçå`);
                golden.remove();
                checkAchievements();
                updateUI();
                saveGame();
            });
            
            document.body.appendChild(golden);
            
            setTimeout(() => {
                if (golden.parentNode) golden.remove();
            }, 6000);
        }

        // Spawnar banana dourada
        setInterval(() => {
            if (Math.random() < 0.03) {
                spawnGoldenBanana();
            }
        }, 15000);

        // Sistema de N√≠vel
        function checkLevelUp() {
            const expNeeded = gameState.level * 100;
            if (gameState.experience >= expNeeded) {
                gameState.level++;
                gameState.experience = 0;
                playLevelUpSound();
                showLevelUp();
                showNotification(`üéâ Subiu para o N√≠vel ${gameState.level}!`);
                checkAchievements();
            }
            updateLevelProgress();
        }

        function updateLevelProgress() {
            const expNeeded = gameState.level * 100;
            const progress = (gameState.experience / expNeeded) * 100;
            const progressEl = document.getElementById('levelProgress');
            progressEl.style.width = progress + '%';
            progressEl.textContent = Math.floor(progress) + '%';
        }

        function showLevelUp() {
            const levelUp = document.createElement('div');
            levelUp.className = 'level-up';
            levelUp.textContent = `üéä N√çVEL ${gameState.level}! üéä`;
            document.body.appendChild(levelUp);
            setTimeout(() => levelUp.remove(), 2000);
        }

        // Notifica√ß√£o
        function showNotification(message) {
            const notif = document.createElement('div');
            notif.className = 'notification';
            notif.textContent = message;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 3000);
        }

        // Tabs
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');
            });
        });

        // Renderizar Upgrades
        function renderUpgrades() {
            const list = document.getElementById('upgradeList');
            list.innerHTML = '';
            
            upgrades.forEach(upgrade => {
                const owned = gameState.upgrades[upgrade.id] || 0;
                const cost = Math.floor(upgrade.cost * Math.pow(1.15, owned));
                const canBuy = gameState.bananas >= cost;
                
                const item = document.createElement('div');
                item.className = `upgrade-item ${upgrade.ultra ? 'ultra' : ''}`;
                item.innerHTML = `
                    <div class="upgrade-info">
                        <div class="upgrade-name">
                            ${upgrade.name} (${owned})
                            ${upgrade.ultra ? '<span class="ultra-badge">ULTRA</span>' : ''}
                        </div>
                        <div class="upgrade-desc">${upgrade.desc}</div>
                        <div class="upgrade-desc">Custo: ${formatNumber(cost)} üçå</div>
                    </div>
                    <button class="buy-btn" ${!canBuy ? 'disabled' : ''} onclick="buyUpgrade('${upgrade.id}')">
                        Comprar
                    </button>
                `;
                list.appendChild(item);
            });
        }

        // Comprar Upgrade
        function buyUpgrade(id) {
            const upgrade = upgrades.find(u => u.id === id);
            const owned = gameState.upgrades[id] || 0;
            const cost = Math.floor(upgrade.cost * Math.pow(1.15, owned));
            
            if (gameState.bananas >= cost) {
                gameState.bananas -= cost;
                gameState.upgrades[id] = owned + 1;
                
                if (upgrade.power) gameState.clickPower += upgrade.power;
                if (upgrade.passive) gameState.passiveIncome += upgrade.passive;
                
                playPurchaseSound();
                showNotification(`‚úÖ Comprou ${upgrade.name}!`);
                checkAchievements();
                updateUI();
                saveGame();
            }
        }

        // Renderizar Skins
        function renderSkins() {
            const list = document.getElementById('skinList');
            list.innerHTML = '';
            
            skins.forEach(skin => {
                const owned = gameState.skins[skin.id];
                const isEquipped = gameState.currentSkin === skin.id;
                const canBuy = gameState.bananas >= skin.cost;
                
                const item = document.createElement('div');
                item.className = 'skin-item';
                item.innerHTML = `
                    <div class="skin-info">
                        <div class="skin-name">${skin.id} ${skin.name}</div>
                        <div class="skin-desc">${skin.desc}</div>
                        ${!owned ? `<div class="skin-desc">Custo: ${formatNumber(skin.cost)} üçå</div>` : ''}
                    </div>
                    ${!owned ? 
                        `<button class="buy-btn" ${!canBuy ? 'disabled' : ''} onclick="buySkin('${skin.id}')">Comprar</button>` :
                        `<button class="equip-btn ${isEquipped ? 'equipped' : ''}" onclick="equipSkin('${skin.id}')">${isEquipped ? 'Equipada' : 'Equipar'}</button>`
                    }
                `;
                list.appendChild(item);
            });
        }

        // Comprar Skin
        function buySkin(id) {
            const skin = skins.find(s => s.id === id);
            if (gameState.bananas >= skin.cost) {
                gameState.bananas -= skin.cost;
                gameState.skins[id] = true;
                playPurchaseSound();
                showNotification(`üé® Desbloqueou ${skin.name}!`);
                checkAchievements();
                updateUI();
                saveGame();
            }
        }

        // Equipar Skin
        function equipSkin(id) {
            gameState.currentSkin = id;
            bananaEl.textContent = id;
            updateUI();
            saveGame();
        }

        // Renderizar Acess√≥rios (NOVO!)
        function renderAccessories() {
            const list = document.getElementById('accessoryList');
            list.innerHTML = '';
            
            accessories.forEach(acc => {
                const owned = gameState.accessories[acc.id];
                const canBuy = gameState.bananas >= acc.cost;
                
                const item = document.createElement('div');
                item.className = 'accessory-item';
                item.innerHTML = `
                    <div class="accessory-info">
                        <div class="accessory-name">${acc.emoji} ${acc.name}</div>
                        <div class="accessory-desc">${acc.desc}</div>
                        ${!owned ? `<div class="accessory-desc">Custo: ${formatNumber(acc.cost)} üçå</div>` : ''}
                    </div>
                    ${!owned ? 
                        `<button class="buy-btn" ${!canBuy ? 'disabled' : ''} onclick="buyAccessory('${acc.id}')">Comprar</button>` :
                        `<button class="equip-btn ${owned === 'equipped' ? 'equipped' : ''}" onclick="toggleAccessory('${acc.id}')">${owned === 'equipped' ? 'Equipado' : 'Equipar'}</button>`
                    }
                `;
                list.appendChild(item);
            });
        }

        // Comprar Acess√≥rio (NOVO!)
        function buyAccessory(id) {
            const acc = accessories.find(a => a.id === id);
            if (gameState.bananas >= acc.cost) {
                gameState.bananas -= acc.cost;
                gameState.accessories[id] = 'owned';
                playPurchaseSound();
                showNotification(`üé© Comprou ${acc.name}!`);
                checkAchievements();
                updateUI();
                saveGame();
            }
        }

        // Equipar/Desequipar Acess√≥rio (NOVO!)
        function toggleAccessory(id) {
            const acc = accessories.find(a => a.id === id);
            
            if (gameState.accessories[id] === 'equipped') {
                gameState.accessories[id] = 'owned';
            } else {
                // Remover outros do mesmo tipo
                accessories.forEach(a => {
                    if (a.type === acc.type && gameState.accessories[a.id] === 'equipped') {
                        gameState.accessories[a.id] = 'owned';
                    }
                });
                gameState.accessories[id] = 'equipped';
            }
            
            updateAccessoriesDisplay();
            updateUI();
            saveGame();
        }

        // Atualizar Display de Acess√≥rios (NOVO!)
        function updateAccessoriesDisplay() {
            const container = document.getElementById('accessoryContainer');
            container.innerHTML = '';
            
            accessories.forEach(acc => {
                if (gameState.accessories[acc.id] === 'equipped') {
                    const el = document.createElement('div');
                    el.className = `accessory acc-${acc.type}`;
                    el.textContent = acc.emoji;
                    container.appendChild(el);
                }
            });
        }

        // Lootbox
        const lootboxBtn = document.getElementById('lootboxBtn');
        lootboxBtn.addEventListener('click', () => {
            if (gameState.level >= 10) {
                lootboxBtn.classList.add('opening');
                playSuccessSound();
                
                setTimeout(() => {
                    const rewards = [50, 100, 500, 1000, 5000, 10000];
                    const reward = rewards[Math.floor(Math.random() * rewards.length)];
                    
                    gameState.bananas += reward;
                    gameState.lootboxesOpened++;
                    gameState.level = Math.max(1, gameState.level - 10);
                    gameState.experience = 0;
                    lootboxBtn.classList.remove('opening');
                    showNotification(`üéÅ Ganhou ${formatNumber(reward)} Bananas!`);
                    checkAchievements();
                    updateUI();
                    saveGame();
                }, 1000);
            }
        });

        // Conquistas
        function checkAchievements() {
            achievements.forEach(achievement => {
                if (!gameState.achievements[achievement.id] && achievement.requirement()) {
                    gameState.achievements[achievement.id] = true;
                    playSuccessSound();
                    showNotification(`üèÜ Conquista: ${achievement.name}!`);
                }
            });
            renderAchievements();
        }

        function renderAchievements() {
            const list = document.getElementById('achievementsList');
            list.innerHTML = '';
            
            achievements.forEach(achievement => {
                const unlocked = gameState.achievements[achievement.id];
                const item = document.createElement('div');
                item.className = `achievement-item ${unlocked ? 'unlocked' : 'locked'}`;
                item.innerHTML = `
                    <div class="achievement-info">
                        <div class="achievement-name">${unlocked ? 'üèÜ' : 'üîí'} ${achievement.name}</div>
                        <div class="achievement-desc">${achievement.desc}</div>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        // Ranking com Bots
        function generateLeaderboard() {
            const botNames = ['BananaKing', 'ClickMaster', 'YellowPower', 'FastClicker', 'BananaQueen', 
                             'SpeedDemon', 'GoldenTouch', 'ClickLegend', 'BananaBoss', 'UltraClicker'];
            
            const players = [{
                name: 'VOC√ä',
                score: gameState.bananas,
                level: gameState.level,
                isPlayer: true
            }];
            
            for (let i = 0; i < 9; i++) {
                const botScore = Math.floor(Math.random() * gameState.bananas * 1.5) + Math.floor(gameState.bananas * 0.3);
                const botLevel = Math.floor(botScore / 1000) + 1;
                players.push({
                    name: botNames[i],
                    score: botScore,
                    level: botLevel,
                    isPlayer: false
                });
            }
            
            players.sort((a, b) => b.score - a.score);
            
            const list = document.getElementById('leaderboardList');
            list.innerHTML = '';
            
            players.forEach((player, index) => {
                const item = document.createElement('div');
                item.className = 'leaderboard-item';
                item.style.background = player.isPlayer ? 'rgba(255, 215, 0, 0.3)' : 'rgba(255, 215, 0, 0.1)';
                item.innerHTML = `
                    <div class="rank rank-${index + 1}">#${index + 1}</div>
                    <div class="player-info">
                        <div class="player-name">${player.name} ${player.isPlayer ? 'üë§' : 'ü§ñ'}</div>
                        <div class="player-level">N√≠vel ${player.level} ‚Ä¢ ${formatNumber(player.score)} üçå</div>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        // Renda Passiva
        setInterval(() => {
            if (gameState.passiveIncome > 0) {
                gameState.bananas += gameState.passiveIncome;
                gameState.experience += gameState.passiveIncome;
                checkLevelUp();
                updateUI();
                saveGame();
            }
        }, 1000);

        // Atualizar UI
        function updateUI() {
            document.getElementById('bananas').textContent = formatNumber(gameState.bananas);
            document.getElementById('perClick').textContent = formatNumber(gameState.clickPower);
            document.getElementById('level').textContent = gameState.level;
            document.getElementById('perSecond').textContent = formatNumber(gameState.passiveIncome);
            
            const lootboxStatus = document.getElementById('lootboxStatus');
            if (gameState.level >= 10) {
                lootboxStatus.textContent = 'Clique para abrir! (-10 n√≠veis)';
                lootboxBtn.style.cursor = 'pointer';
            } else {
                lootboxStatus.textContent = `N√≠vel ${gameState.level}/10`;
                lootboxBtn.style.cursor = 'not-allowed';
            }
            
            renderUpgrades();
            renderSkins();
            renderAccessories();
            renderAchievements();
            generateLeaderboard();
            updateLevelProgress();
        }

        // Formatar n√∫meros
        function formatNumber(num) {
            if (num >= 1e15) return (num / 1e15).toFixed(2) + 'Q';
            if (num >= 1e12) return (num / 1e12).toFixed(2) + 'T';
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';
            if (num >= 1e3) return (num / 1e3).toFixed(2) + 'K';
            return Math.floor(num).toString();
        }

        // Salvar
        function saveGame() {
            db.saveGame(gameState);
        }

        // Resetar
        function resetGame() {
            if (confirm('Tem certeza que deseja resetar o jogo? Todo o progresso ser√° perdido!')) {
                db.resetGame();
                location.reload();
            }
        }

        // Auto-save
        setInterval(saveGame, 10000);

        // Inicializar
        bananaEl.textContent = gameState.currentSkin;
        updateUI();
        checkAchievements();
        updateAccessoriesDisplay();

        // Salvar ao sair
        window.addEventListener('beforeunload', saveGame);
    </script>
</body>
  </html>
